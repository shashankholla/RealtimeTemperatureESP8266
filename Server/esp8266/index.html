<!doctype html>
<html class="no-js" lang="">

<head>
        <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
        <script>
          var OneSignal = window.OneSignal || [];
          OneSignal.push(function() {
            OneSignal.init({
              appId: "f2fb301c-f6dc-416a-beb9-3d79f43074b8",
            });
          });
        </script>
  <meta charset="utf-8">
  <meta name="theme-color" content="#F9F9F9" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"> 
  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

  
  
  <!-- Font Awesome -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Product+Sans' rel='stylesheet' type='text/css'>
  


  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/switch.css">
 

<!-- Notifications-->


</head>

<style>

</style>






<body style="background-color: #FFFFFF" >
    <nav class="navbar navbar-expand-md navbar-dark bg-dark sidebarNavigation" data-sideBarClass=" navbar-dark bg-dark">
        <a class="navbar-brand" href="#">SmartAgri</a>
        <button class="navbar-toggler leftNavbarToggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto py-3">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Dashboard <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="chartTemp.html">Data Log</a>
            </li>
            <li class="nav-item">
                    <a class="nav-link" href="tables/tempData.html">Temp</a>
                  </li>
                  <li class="nav-item">
                        <a class="nav-link" href="tables/moistureData.html">Soil Moisture</a>
                      </li>
                      <li class="nav-item">
                            <a class="nav-link" href="tables/humidityData.html">Humidity</a>
                          </li>
                          <li class="nav-item">
                                <a class="nav-link" href="tables/waterLevelData.html">waterLevel</a>
                              </li>
            
            </li>
          </ul>
         
        </div>
      </nav>
    
  <div class="container" style="padding-top: 25px">
  
  

  


  <div class="row">
        <div class="col-sm-6 col-xs-1" >
                <div class="card " style="padding: 1px">
                    <div class="row">
                    <div class="col-sm-6"><div class="card-body text-center">  <img src="https://i.kinja-img.com/gawker-media/image/upload/gd8ljenaeahpn0wslmlz.jpg" class="image--cover"></div></div>
                    <div class="col-sm-6" style="align-items: center; padding: 25px">
                    <h2 class="card-title" >Shashank's </h2>
                    <h5 class="card-subtitle mb-2">Farm</h5>
                    <p id="Time">Last Updated: XX:XX:XX</p></div>
                    
                </div>
            </div>
            </div>
      <div class="col-sm-3 col-xs-1" >
          <div class="card temperature" >
              <div class="card-body text-center"> 
                <span class="fa-stack fa-2x icon-font">
                  <i class="fa fa-circle fa-stack-2x icon-background"></i>
                  <i class="fa fa-thermometer-empty fa-stack-1x"></i>
                </span>
                  <h5 class="card-title">
                     
                      Temperature</h5>
                    <div style="min-height: 50px"><h1 id="currentTemp">C</h1></div>
                  <a href="tables/tempData.html" class="card-link">Data</a>
              </div>
          </div>
      </div>
      <div class="col-sm-3 col-xs-1">
          <div class="card humidity">
              <div class="card-body text-center">
                  <span class="fa-stack fa-2x icon-font">
                      <i class="fa fa-circle fa-stack-2x icon-background"></i>
                      <i class="fa fa-tint fa-stack-1x"></i>
                    </span>
                  <h5 class="card-title">Humidity</h5>
                  <div style="min-height: 50px"><h1 id="currentHumidity">%</h1></div>
                  <a href="tables/humidityData.html" class="card-link">Data</a>
              </div>
          </div>
      </div>
      <div class="col-sm-3 col-xs-1">
          <div class="card sMoisture">
              <div class="card-body text-center">
                  <span class="fa-stack fa-2x icon-font">
                      <i class="fa fa-circle fa-stack-2x icon-background"></i>
                      <i class="fa fa-leaf fa-stack-1x"></i>
                    </span>
                  <h5 class="card-title">Soil Moisture</h5>
                  <div style="min-height: 50px"><h1 id="currentSoilMoisture">%</h1></div>
                  <a href="tables/moistureData.html" class="card-link">Data</a>
              </div>
          </div>
      </div>
      <div class="col-sm-3 col-xs-1">
          <div class="card waterLevel">
              <div class="card-body text-center">
                  <span class="fa-stack fa-2x icon-font">
                      <i class="fa fa-circle fa-stack-2x icon-background"></i>
                      <i class="fa fa-level-up fa-stack-1x"></i>
                    </span>
                  <h5 class="card-title">Water Level</h5>
                 <h1 id="currentWaterLevel">15%</h1>
                  <a href="tables/waterLevelData.html" class="card-link">Data</a>
              </div>
          </div>
      </div>
      <div class="col-sm-3 col-xs-1">
          <div class="card sunlight">
              <div class="card-body text-center">
                  <span class="fa-stack fa-2x icon-font">
                      <i class="fa fa-circle fa-stack-2x icon-background"></i>
                      <i class="fa fa-sun-o fa-stack-1x fa-spin"></i>
                    </span>
                  <h5 class="card-title">Sunlight</h5>
                  <h1 id="currentSunlight">Sunny</h1>
                  <a href="tables/tempData.html" class="card-link"> <br>    </a>
              </div>
          </div>
      </div>
      <div class="col-sm-3 col-xs-1">
        <div class="card sunlight">
            <div class="card-body text-center">
                <span class="fa-stack fa-2x icon-font">
                    <i class="fa fa-circle fa-stack-2x icon-background"></i>
                    <i class="fa fa-cog fa-spin fa-stack-1x"></i>
                  </span>
                <h5 class="card-title">Motor</h5>
                        <!-- Rounded switch -->
                      
                         <p>  <div name="motorToggle"> <label class="switch">
                                <input type="checkbox" id="motorToggle"  data-toggle="toggle">
                                <span class="slider round"></span>
                            </label></div></p>
                <a href="#" class="card-link">Data</a>
            </div>
        </div>
    </div>
    
  </div>


</div>


  <script src="js/vendor/modernizr-3.6.0.min.js"></script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  
  
  
 

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script src="js/sidebar.js"></script>








</body>

<script>
   
    var motorStatus = 0;
    var toggler = document.getElementById("motorToggle");
    
   /* toggler.onclick = function(){
        console.log("Toggled");
    if(motorStatus == 0)
    {
        motorStatus = 1;
    }
    else{
        motorStatus = 0;
    }
    
    console.log("MotorStatus",motorStatus)
    $.ajax({
    type: "GET",
    url: "motor.php",
    data: {
        motor : motorStatus
    },
    success: function (data) {
            console.log("Motor Toggled");
        }
    
});

}; */
$('#motorToggle').off().on('click',function() {
    myFunction();
    //addToCart($(this).attr("id"));
});

function myFunction(){
   console.log("Start");
    if(motorStatus == 0)
    {
        motorStatus = 1;
    }
    else{
        motorStatus = 0;
    }
    
    console.log("MotorStatus",motorStatus)
    $.ajax({
    type: "GET",
    url: "motor.php",
    data: {
        motor : motorStatus
    },
    success: function (data) {
            console.log("Motor Toggled");
        }
    
});
}
getData();
function getData() {
            
      
            $.ajax({
			type: 'POST',
			async: false,
			url: 'data.php',
			data:{"request":"h"},
			dataType: 'json',
			success: function(response)
			{

				d = response;
			}

        });
        
        c_t = d[d.length-1]["Temp"];
        c_h = d[d.length-1]["Humidity"];
        c_sm = d[d.length-1]["Moisture"];
        c_wl = d[d.length-1]["waterLevel"];
        c_sl = d[d.length-1]["sunlight"];
        c_time = d[d.length-1]["Date"] + " " + d[d.length-1]["Time"];
        $('#currentTemp').slideUp(500, function() {
        $(this).text(c_t + "°C").slideDown(500);
    });
    $('#Time').slideUp(500, function() {
        $(this).text("Last Updated: " + c_time).slideDown(500);
    });
    $('#currentHumidity').slideUp(500, function() {
        $(this).text(c_h + "%").slideDown(500);
    });
    $('#currentSoilMoisture').slideUp(500, function() {
        $(this).text(c_sm + "%").slideDown(500);
    });
    $('#currentWaterLevel').slideUp(500, function() {
        $(this).text(c_wl+ "%").slideDown(500);
    });
    $('#currentSunlight').slideUp(500, function() {
        $(this).text(c_sl).slideDown(500);
    });
        console.log(c_t);




           
          
                setTimeout(getData, 5000);
          
        }





</script>















</html>
